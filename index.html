<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>boolzapp</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
     <link rel="stylesheet" href="./css/style.css">
     <script src="https://kit.fontawesome.com/2d1645b189.js" crossorigin="anonymous"></script>
</head>

<div id="app">
     <main class="p-5">
          <div class="container bg-light ">
               <div class="row">
                    <div class="col-4  ">

                         <div class="row height-70 bg-secondary-subtle d-flex">
                              <div class="col d-flex align-items-center">

                                   <img src="./img/avatar_io.jpg" class="avatar mx-2" alt="">
                                   <p><strong>Tomas Darienko</strong> </p>

                              </div>
                              <div class="col-3 d-flex justify-content-evenly align-items-center">
                                   <i class="fas fa-circle-notch"></i>
                                   <i class="fa-solid fa-ellipsis-vertical"></i>
                                   <i class="fas fa-message"></i>
                              </div>

                         </div>


                         <div class="row">
                              <div class="col">

                                   <input type="text" class="form-control" placeholder="cerca.." v-model="cerca"
                                        @Keyup="cerca_cont" name="" id="">

                                   <div v-show="contact.visible" class="height-70" v-for="(contact,index) in contacts"
                                        :key="index" :class=" activeContact == index ? 'bg-secondary-subtle' : '' "
                                        @click="contatto_attivo(index)">
                                        <img :src="contacts[index].avatar" class="avatar mx-2" alt="">

                                        {{contact.name}}
                                   </div>


                              </div>

                         </div>

                    </div>
                    <div class="col-8">

                         <div class="row height-70 bg-secondary-subtle d-flex justify-content-between">
                              <div class="col-5">
                                   <img :src="contacts[activeContact].avatar" class="avatar mx-2" alt="">
                                   <span>{{contacts[activeContact].name}}</span>
                              </div>
                              <div class="col-2 d-flex justify-content-evenly align-items-center">
                                   <i class="fas fa-magnifying-glass"></i>
                                   <i class="fa-solid fa-paperclip"></i>
                                   <i class="fa-solid fa-ellipsis-vertical"></i>
                              </div>

                         </div>

                         <div class=" right_side ">



                              <div v-for="(message,index) in contacts[activeContact].messages" :key="index"
                                   class="d-block" :class="message.status == 'sent' ? 'inviato' : 'ricevuto'">
                                        {{message.message}}
                              </div>


                         </div>
                         <div class="barra_mess">
                              <div class="input-group mb-3 barra_mess ">
                                   <input type="text" class="form-control" v-model="new_mess"
                                        placeholder="invia un messaggio" aria-label="invia un messaggio"
                                        aria-describedby="button-addon2">
                                   <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                                        @click="add_new_message(activeContact)"><i class="fa-solid fa-paper-plane"></i>
                                   </button>
                              </div>
                         </div>

                    </div>
               </div>

     </main>
</div>

<body>
     <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
     <script src="./js/script.js"></script>
</body>

</html>